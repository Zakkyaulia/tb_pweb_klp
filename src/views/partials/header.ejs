<!-- Custom Alert Container -->
<div id="alertContainer"></div>

<!-- Custom Alert JavaScript -->
<script>
    function showCustomAlert(message, type = 'info', duration = 5000) {
        const container = document.getElementById('alertContainer');
        
        const alertDiv = document.createElement('div');
        alertDiv.className = `custom-alert ${type}`;
        
        const icons = {
            success: 'fas fa-check',
            error: 'fas fa-times',
            warning: 'fas fa-exclamation-triangle',
            info: 'fas fa-info-circle'
        };
        
        const titles = {
            success: 'Berhasil!',
            error: 'Error!',
            warning: 'Peringatan!',
            info: 'Informasi'
        };
        
        alertDiv.innerHTML = `
            <div class="relative p-4 text-white">
                <div class="alert-close" onclick="closeAlert(this)">
                    <i class="fas fa-times text-xs"></i>
                </div>
                <div class="flex items-start space-x-3">
                    <div class="alert-icon">
                        <i class="${icons[type]} text-sm"></i>
                    </div>
                    <div class="flex-1">
                        <h4 class="font-semibold text-sm mb-1">${titles[type]}</h4>
                        <p class="text-sm opacity-90">${message}</p>
                    </div>
                </div>
            </div>
            <div class="alert-progress">
                <div class="alert-progress-bar"></div>
            </div>
        `;
        
        container.appendChild(alertDiv);
        
        // Show animation
        setTimeout(() => {
            alertDiv.classList.add('show');
        }, 100);
        
        // Auto remove
        if (duration > 0) {
            setTimeout(() => {
                closeAlert(alertDiv.querySelector('.alert-close'));
            }, duration);
        }
    }
    
    function closeAlert(closeBtn) {
        const alertDiv = closeBtn.closest('.custom-alert');
        alertDiv.classList.remove('show');
        setTimeout(() => {
            alertDiv.remove();
        }, 300);
    }
    
    // Function to show alert and redirect
    function showAlertAndRedirect(message, type, url) {
        showCustomAlert(message, type, 3000);
        setTimeout(() => {
            window.location.href = url;
        }, 1500);
    }
    
    // Function to show alert and go back
    function showAlertAndGoBack(message, type) {
        showCustomAlert(message, type, 3000);
        setTimeout(() => {
            window.history.back();
        }, 1500);
    }
</script>

<header class="flex justify-between items-center px-8 py-4 bg-white shadow">
    <div class="flex items-center">
        <img src="/images/download.png" alt="Logo FTI" class="h-12 w-auto object-contain" />
    </div>
    
    <div class="flex-1 flex justify-center">
        <h1 class="text-3xl font-extrabold text-orange-600 tracking-wide">SIPAS</h1>
    </div>
    
    <nav class="space-x-8 font-semibold text-lg">
        <a href="/request/step1" class="<%= active === 'Mulai' ? 'text-orange-600' : 'text-gray-800 hover:text-orange-600' %>">Mulai</a>
        <a href="/template" class="<%= active === 'Template' ? 'text-orange-600' : 'text-gray-800 hover:text-orange-600' %>">Template</a>
        <a href="/riwayat" class="<%= active === 'Riwayat' ? 'text-orange-600' : 'text-gray-800 hover:text-orange-600' %>">Riwayat</a>
        <a href="/pengumuman" class="<%= active === 'Pengumuman' ? 'text-orange-600' : 'text-gray-800 hover:text-orange-600' %>">Pengumuman</a>
        <a href="/petunjuk" class="<%= active === 'Petunjuk' ? 'text-orange-600' : 'text-gray-800 hover:text-orange-600' %>">Petunjuk</a>
        <% if (typeof user !== 'undefined' && user) { %>
            <a href="/logout" class="text-gray-800 hover:text-orange-600">Logout</a>
        <% } %>
    </nav>
</header> 